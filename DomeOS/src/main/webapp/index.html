<!DOCTYPE html>
<html ng-app="domeApp">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>DomeOS</title>
    <link rel="stylesheet" href="common/css/ng-cloak.css" type="text/css">
    <link href="/favicon.ico" rel="shortcut icon"><!-- build:css index/css/domeStyle.min.css -->
    <link rel="stylesheet" href="lib/css/bootstrap.css" type="text/css">
    <link rel="stylesheet" href="lib/css/loading-bar.css" type="text/css">
    <link rel="stylesheet" href="index/css/ng-scrollbar.css" type="text/css">
    <link rel="stylesheet" href="common/css/base.css" type="text/css">
    <link rel="stylesheet" href="index/css/index.css" type="text/css">
    <link rel="stylesheet" href="index/css/bussiness.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/nav/nav.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/nav/iconNav.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/projectManage/projectManage.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/deployManage/deployManage.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/groupManage/groupManage.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/imagesManage/imagesManage.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/globalSetting/globalSetting.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/clusterManage/clusterManage.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/appStore/appStore.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/createProject1/createProject1.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/createProject2/createProject2.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/projectDetail/projectDetail.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/createCluster/createCluster.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/tplProjectSetting/projectSettingTpl.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/tplUserList/tplUserList.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/createDeployCommon/createDeployCommon.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/createDeployRaw/createDeployRaw.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/createDeployImage/createDeployImage.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/createAppDeploy/createAppDeploy.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/monitor/monitor.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/alarm/alarm.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/alarmAddHosts/alarmAddHosts.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/deployDetail/deployDetail.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/createGroup/createGroup.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/groupDetail/groupDetail.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/hostDetail/hostDetail.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/addHost/addHost.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/clusterDetail/clusterDetail.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/mirrorCustom/mirrorCustom.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/tplAlarmTemplate/tplAlarmTemplate.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/tplAlarmUserGroupDetail/tplAlarmUserGroupDetail.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/projectCollectionManage/projectCollectionManage.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/createProjectCollection/createProjectCollection.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/imageCollectionManage/imageCollectionManage.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/deployCollectionManage/deployCollectionManage.css" type="text/css">
    <link rel="stylesheet" href="index/tpl/createDeployCollection/createDeployCollection.css" type="text/css">
    <link rel="stylesheet" href="lib/css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" type="text/css"><!-- endbuild -->
  </head>
  <body ng-controller="DomeCtr as vmDome" resize-body ng-class="{'thin-left-nav':vmDome.thinLeftNav}">
    <div class="page">
      <div class="side" left-sidebar="left-sidebar" current-mod="currentMod.mod" login-user="vmDome.loginUser"></div>
      <div class="content">
        <div class="top-prompt ng-hide" ng-show="vmDome.showPrompt">为了方便试用DomeOS，目前正在使用H2内存数据库。如果DomeOS Server重启，则该数据库信息会丢失。您可以配置MySQL作为数据库，MySQL配置详见<a class="txt-bright" href="http://doc.domeos.org" target="_blank">使用文档</a>。<a class="icon-cancel pull-right" ng-click="vmDome.showPrompt = false"></a></div>
        <header class="header">
          <div class="breadcrunmbs"><span class="sidebar"><a ng-click="vmDome.toggleThinLeftNav()"><i class="fa fa-bars fa-lg" aria-hidden="true"></i></a></span><span ncy-breadcrumb ncy-breadcrumb-text-separator=" &gt; "></span>
            <ul class="pull-right header-item">
              <li class="header-doc"><a href="http://doc.domeos.org" target="_blank"><i class="fa fa-file-o"></i>&nbsp;文档</a></li>
              <li class="header-user">
                <div select-con>
                  <button class="ui-btn ui-btn-none username ui-btn-select" ng-cloak>{{vmDome.loginUser.username}} &nbsp;<i class="fa fa-angle-right up drop"></i></button>
                  <ul class="com-user-option select-list">
                    <li class="arrow"></li>
                    <li select-item><a ng-click="vmDome.modifySelfInfo()">修改资料</a></li>
                    <li select-item ng-if="vmDome.loginUser.loginType=='USER'"><a ng-click="vmDome.modifyPw()">修改密码</a></li>
                    <li select-item><a ng-click="vmDome.logout()">退出登录</a></li>
                  </ul>
                </div>
              </li>
            </ul>
          </div>
        </header>
        <div class="module container" ui-view=""></div>
      </div>
    </div>
    <script type="text/ng-template" id="promptModal.html">
      <div class="d-modal-header">提示</div>
      <div class="modal-body">
        <p ng-bind="promptTxt"></p>
      </div>
      <div class="modal-footer">
        <button class="ui-btn ui-btn-bright ui-btn-sm" ng-click="cancel()">确定</button>
      </div>
    </script>
    <script type="text/ng-template" id="confirmModal.html">
      <div class="d-modal-header">提示</div>
      <div class="modal-body">
        <p ng-bind="promptTxt"></p>
      </div>
      <div class="modal-footer">
        <button class="ui-btn ui-btn-white ui-btn-sm" ng-click="cancel()">取消</button>
        <button class="ui-btn ui-btn-bright ui-btn-sm" ng-click="sure()">继续</button>
      </div>
    </script>
    <script type="text/ng-template" id="warningModal.html">
      <div class="d-modal-header">警告</div>
      <div class="modal-body">
        <p class="txt-error" ng-bind="titleInfo" ng-class="{'font-size-16':detailInfo}"></p>
        <p class="txt-error tool-wrap-break" ng-bind="detailInfo"></p>
      </div>
      <div class="modal-footer">
        <button class="ui-btn ui-btn-error ui-btn-sm" ng-click="cancel()">确定</button>
      </div>
    </script>
    <script type="text/ng-template" id="deleteModal.html">
      <div class="d-modal-header">删除</div>
      <div class="modal-body">
        <p class="txt-error" ng-bind="promptTxt"></p>
      </div>
      <div class="modal-footer">
        <button class="ui-btn ui-btn-white ui-btn-sm" ng-click="cancel()">取消</button>
        <button class="ui-btn ui-btn-error ui-btn-sm" ng-click="delete()">确定</button>
      </div>
    </script>
    <script type="text/ng-template" id="modifyPwModal.html">
      <div class="d-modal-header">修改密码</div>
      <div class="modal-body">
        <ul class="modal-info" ng-form name="pwForm" role="form" ng-class="{'need-valid':needValid}">
          <li>
            <label class="info-name">原密码</label>
            <div class="info-txt text-left">
              <input class="full ui-input-white" placeholder="请输入原密码" type="password" name="oldPw" ng-model="pwObj.oldpassword" required>
            </div>
          </li>
          <li>
            <label class="info-name">新密码</label>
            <div class="info-txt text-left">
              <input class="full ui-input-white" placeholder="8-20位" ng-model-options="{updateOn:'default blur',debounce:{default:500,blur:0}}" type="password" name="newPw" ng-model="pwObj.newpassword" required ng-minlength="8" ng-maxlength="20"><span class="txt-error" ng-if="(needValid||pwForm.newPw.$dirty)&amp;&amp;(pwForm.newPw.$error.minlength||pwForm.newPw.$error.maxlength)">长度必须为8-20位</span>
            </div>
          </li>
          <li>
            <label class="info-name">确认新密码</label>
            <div class="info-txt text-left">
              <input class="full ui-input-white" placeholder="再次输入新密码" type="password" ng-model-options="{updateOn:'default blur',debounce:{default:500,blur:0}}" name="newPwAgain" ng-model="newPwAgain" required equal="pwObj.newpassword"><span class="txt-error" ng-if="(needValidUser.valid||pwForm.newPwAgain.$dirty)&amp;&amp;pwForm.newPwAgain.$error.equal">两次密码不一致</span>
            </div>
          </li>
        </ul>
      </div>
      <div class="modal-footer">
        <button class="ui-btn ui-btn-white ui-btn-sm" ng-click="cancel()">取消</button>
        <button class="ui-btn ui-btn-sm ui-btn-bright" ng-click="needValid=true;pwForm.$valid&amp;&amp;modiftPw()">确定</button>
      </div>
    </script>
    <script type="text/ng-template" id="modifyUserInfoModal.html">
      <div class="d-modal-header">修改资料</div>
      <div class="modal-body text-center modal-newpw" ng-form role="form" name="userInfoForm">
        <ul class="modal-info">
          <li><span class="info-name">用户名</span>
            <div class="info-content text-left"><span class="align-input" ng-bind="user.username"></span></div>
          </li>
          <li><span class="info-name">邮箱</span>
            <div class="info-content text-left">
              <input class="ui-input-white full" ng-model="user.email" name="email">
            </div>
          </li>
          <li><span class="info-name">电话</span>
            <div class="info-content text-left">
              <input class="ui-input-white full" ng-model="user.phone" name="phone">
            </div>
          </li>
        </ul>
      </div>
      <div class="modal-footer">
        <button class="ui-btn ui-btn-sm ui-btn-white" ng-click="cancel()">取消</button>
        <button class="ui-btn ui-btn-sm ui-btn-bright" ng-click="submit()">保存</button>
      </div>
    </script>
    <div></div><!-- build:js index/js/lib.min.js -->
    <script type="text/javascript" src="lib/js/jquery.min.js"></script>
    <script type="text/javascript" src="lib/js/angular.min.js"></script>
    <script type="text/javascript" src="lib/js/angular-ui-router.min.js"></script>
    <script type="text/javascript" src="lib/js/ng-scrollbar.js"></script>
    <script type="text/javascript" src="lib/js/angular-locale_zh-cn.js"></script>
    <script type="text/javascript" src="lib/js/ui-bootstrap-tpls.min.js"></script>
    <script type="text/javascript" src="lib/js/angular-animate.min.js"></script>
    <script type="text/javascript" src="lib/js/angular-breadcrumb.min.js"></script>
    <script type="text/javascript" src="lib/js/bindonce.min.js"></script>
    <script type="text/javascript" src="lib/js/ocLazyLoad.js"></script>
    <script type="text/javascript" src="lib/js/clipboard.min.js"></script>
    <script type="text/javascript" src="lib/js/ngclipboard.min.js"></script>
    <script type="text/javascript" src="lib/js/angular-cookies.js"></script>
    <script type="text/javascript" src="lib/js/bootstrap.min.js"></script>
    <script type="text/javascript" src=""></script><!-- endbuild -->
<!-- build:js index/js/domeApp.min.js -->
    <script type="text/javascript" src="common/publicModule/publicModule.js"></script>
    <script type="text/javascript" src="common/publicModule/directive/publicDirective.js"></script>
    <script type="text/javascript" src="common/domeModule/domeModule.js"></script>
    <script type="text/javascript" src="common/deployModule/deployModule.js"></script>
    <script type="text/javascript" src="common/imageModule/imageModule.js"></script>
    <script type="text/javascript" src="common/projectModule/projectModule.js"></script>
    <script type="text/javascript" src="common/userModule/userModule.js"></script>
    <script type="text/javascript" src="index/js/domeApp.js"></script>
    <script type="text/javascript" src="index/js/filter.js"></script>
    <script type="text/javascript" src="index/js/services/projectCollectionService.js"></script>
    <script type="text/javascript" src="index/js/services/deployCollectionService.js"></script>
    <script type="text/javascript" src="index/js/services/domeService.js"></script>
    <script type="text/javascript" src="index/js/services/clusterService.js"></script>
    <script type="text/javascript" src="index/js/services/monitorService.js"></script>
    <script type="text/javascript" src="index/js/services/alarmService.js"></script>
    <script type="text/javascript" src="index/js/directives/domeDirective.js"></script>
    <script type="text/javascript" src="index/js/directives/domeValidation.js"></script>
    <script type="text/javascript" src="index/js/controllers/indexController.js"></script>
    <script type="text/javascript" src="index/tpl/projectManage/projectManageCtr.js"></script>
    <script type="text/javascript" src="index/tpl/deployManage/deployManageCtr.js"></script>
    <script type="text/javascript" src="index/tpl/groupManage/groupManageCtr.js"></script>
    <script type="text/javascript" src="index/tpl/clusterManage/clusterManageCtr.js"></script>
    <script type="text/javascript" src="index/tpl/appStore/appStoreCtr.js"></script>
    <script type="text/javascript" src="index/tpl/imagesManage/imagesManageCtr.js"></script>
    <script type="text/javascript" src="index/tpl/globalSetting/globalSettingCtr.js"></script>
    <script type="text/javascript" src="index/tpl/createProject1/createProjectCtr1.js"></script>
    <script type="text/javascript" src="index/tpl/createProject2/createProjectCtr2.js"></script>
    <script type="text/javascript" src="index/tpl/projectDetail/projectDetailCtr.js"></script>
    <script type="text/javascript" src="index/tpl/createDeployCommon/createDeployCommonCtr.js"></script>
    <script type="text/javascript" src="index/tpl/createDeployRaw/createDeployRawCtr.js"></script>
    <script type="text/javascript" src="index/tpl/createDeployImage/createDeployImageCtr.js"></script>
    <script type="text/javascript" src="index/tpl/createAppDeploy/createAppDeployCtr.js"></script>
    <script type="text/javascript" src="index/tpl/monitor/monitorCtr.js"></script>
    <script type="text/javascript" src="index/tpl/alarm/alarmCtr.js"></script>
    <script type="text/javascript" src="index/tpl/alarmAddHosts/alarmAddHostsCtr.js"></script>
    <script type="text/javascript" src="index/tpl/alarmTemplateDetail/alarmTemplateDetailCtr.js"></script>
    <script type="text/javascript" src="index/tpl/createAlarmTemplate/createAlarmTemplateCtr.js"></script>
    <script type="text/javascript" src="index/tpl/tplAlarmUserGroupDetail/tplAlarmUserGroupDetailCtr.js"></script>
    <script type="text/javascript" src="index/tpl/deployDetail/deployDetailCtr.js"></script>
    <script type="text/javascript" src="index/tpl/createGroup/createGroupCtr.js"></script>
    <script type="text/javascript" src="index/tpl/groupDetail/groupDetailCtr.js"></script>
    <script type="text/javascript" src="index/tpl/clusterDetail/clusterDetailCtr.js"></script>
    <script type="text/javascript" src="index/tpl/createCluster/createClusterCtr.js"></script>
    <script type="text/javascript" src="index/tpl/hostDetail/hostDetailCtr.js"></script>
    <script type="text/javascript" src="index/tpl/addHost/addHostCtr.js"></script>
    <script type="text/javascript" src="index/tpl/modal/buildModal/buildModalCtr.js"></script>
    <script type="text/javascript" src="index/tpl/modal/hostListModal/hostListModalCtr.js"></script>
    <script type="text/javascript" src="index/tpl/modal/otherImageModal/otherImageModalCtr.js"></script>
    <script type="text/javascript" src="index/tpl/modal/instanceLogModal/instanceLogModalCtr.js"></script>
    <script type="text/javascript" src="index/tpl/modal/selectContainerModal/selectContainerModalCtr.js"></script>
    <script type="text/javascript" src="index/tpl/modal/dockerfileModal/dockerfileModalCtr.js"></script>
    <script type="text/javascript" src="index/tpl/modal/branchCheckModal/branchCheckModalCtr.js"></script>
    <script type="text/javascript" src="index/tpl/tplUserList/tplUserListCtr.js"></script>
    <script type="text/javascript" src="index/tpl/mirrorCustom/mirrorCustomCtr.js"></script>
    <script type="text/javascript" src="index/tpl/projectCollectionManage/projectCollectionManageCtr.js"></script>
    <script type="text/javascript" src="index/tpl/createProjectCollection/createProjectCollectionCtr.js"></script>
    <script type="text/javascript" src="index/tpl/imageCollectionManage/imageCollectionManageCtr.js"></script>
    <script type="text/javascript" src="index/tpl/deployCollectionManage/deployCollectionManageCtr.js"></script>
    <script type="text/javascript" src="index/tpl/createDeployCollection/createDeployCollectionCtr.js"></script>
    <script type="text/javascript" src="index/tpl/tplChoseImage/choseImageCtr.js"></script>
    <script type="text/javascript" src=""></script><!-- endbuild -->
  </body>
</html>