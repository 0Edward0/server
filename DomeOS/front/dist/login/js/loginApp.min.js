var loginApp=angular.module("loginApp",[]);loginApp.controller("loginCtr",["$scope","$http","$location",function(r,o,a){r.loginType="LDAP",r.hasError="",r.needValid=!1;var n,e=a.$$absUrl.split("?")[1];e&&e.split("=")[1]&&"redirect"==e.split("=")[0]&&(n=decodeURIComponent(e.split("=")[1])),r.login=function(){var a={username:r.username,password:r.password,loginType:r.loginType};o({method:"post",url:"/api/user/login",data:angular.toJson(a)}).then(function(o){200==o.data.resultCode?location.href=n?n:"/module/module.html":"password wrong"==o.data.result?r.hasError="密码错误！":"username wrong"==o.data.result?r.hasError="用户名错误！":r.hasError="用户名或密码错误！"})},r.hideError=function(){""!==r.hasError&&(r.hasError="")}}]);